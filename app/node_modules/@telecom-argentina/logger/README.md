<img src="https://gitlab.com/jupitec/common/-/raw/master/logger/doc/logo.jpg" width="150px" align="right" />

# Logger
Este es un módulo generico para logeo en los microservicios, actua como wrapper del objeto **console** en JS.
La salida generada por este metodo es al stdout y stderr en formato JSON. Usamos el formato **log4j** para definir niveles de logs.

| Nivel   | Número | Detalle    |
| --------|--------|------------|
| LOG	| 0  | Human understand log for a developer. |
| DEBUG	| 10 | Designates fine-grained informational events that are most useful to debug an application. |
| INFO	| 20 | Designates informational messages that highlight the progress of the application at coarse-grained level.|
| WARN  | 30 | Designates potentially harmful situations. |
| ERROR | 40 | Designates error events that might still allow the application to continue running. |
| ALL   | 50 | All levels including custom levels. |

https://www.tutorialspoint.com/log4j/log4j_logging_levels.htm

### **Niveles de criticidad:**
El nivel de criticidad se explica en este grafico.

<img src="https://gitlab.com/telecom-argentina/coo/fintech/common/-/raw/master/logger/doc/log_vertical.png" width="300px" />

### ¿Como usar?:
Siga estos pasos para poder integrarlo donde se necesite.

```js

//Campos dinamicos en base a variables de entorno.

//Activar mostrar version usando el campo del package.json
export LOG_VERSION="true"

//Activar mostrar ubicacion y funcion desde donde se llama el log.
export LOG_CALLER="true"

//Activart mostrar en formato JSON.
export JSON_LOG="true"

//Importar modulo.
const logger = require("@telecom-argentina/logger");

//Primitivas
logger.info('hello!');
//{"level":"INFO","code":20,"time":'2021-06-15 13:00:25',"message":"hello!"}

logger.info(12344577);
//{"level":"INFO","code":20,"time":'2021-06-15 13:00:25',"message":12344577}

//Objetos
logger.info({name:'Pepa',surname:'pig',clientId:123456});
//{"level":"INFO","code":20,"time":'2021-06-15 13:00:25',"name":"Pepa","surname":"pig","clientId":123456}


//Usando campos dinamicos, version y caller.

logger.info(12344577);
//{"level":"INFO","code":20,"version":"0.1.1","time":'2021-06-15 13:00:25',"message":12344577,logger: '/src/server/events.js:onListen()'}
```

### Instalar
Es necesario tener incluido en el root del proyecto la carepta .npmrc.
```bash
npm install @telecom-argentina/logger --save
```
