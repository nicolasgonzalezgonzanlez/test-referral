<img src="https://github.com/damiancipolat/node-bff/blob/master/doc/node.png?raw=true" width="150px" align="right" />

# Node.js | PePa's Common Library

### **Stack**
- Node.js V12
- Test: Jest v17
- Request: Axios v0.20

### **Comandos**
- Ejecutar Tests:
```console
    fintech@api:~$ npm run test
```

- Ejecutar Coverage:
```console
    fintech@api:~$ npm run coverage
```

## **Descripción**
    En esta libreria se desarrollaran soluciones para acciones comunes dentro del backend 
    conteniendo funciones que simplificaran la ejecución en algunas tareas del core del proyecto 


### **Funciones Connector** :+1:
    Se genera un modulo en forma de driver de connexión sobre algunas funcionalidades
    usadas para el menejo del cliente dentro del core bancario implementado. 

### **USO**
```node

    const { connector } = require('@telecom-argentina/op-connector');

    //params: { token, user, password }, se usa para algunas funciones especificas.
    const { ...functions } = connector(baseUri, deviceId, appId, ...params);

```

#### **me** _`me(auth_params:object, client_id:string)`_
    A través de esta función se permite la verificación de la existencia de un usuario 
    dentro del core bancario, para ello es necesario enviar por parametros un objeto que 
    contenga los datos necesarios para la autenticación dentro del core, como por ejemplo el id 
    de la api y id del dispositivo, ademas del parametro id_client que desea consultar.
    method: GET
    
#### **register** _`register(auth_params:object, body:object)`_
    A través de esta función se permite la creación del usuario dentro del core bancario,
    para ello es necesario enviar por parametros un objeto que contenga los datos necesarios
    para la autenticación dentro del core, como por ejemplo el token de seguridad, el id de 
    la api y id del dispositivo, ademas del objeto body con los datos del cliente a registrar.
    method: POST


#### **update** _`update(auth_params:object, body:object)`_
    A través de esta función se permite la actualización de los datos de un usuario 
    registrado dentro del core bancario, para ello es necesario enviar por parametros un objeto 
    que contenga los datos necesarios para la autenticación dentro del core, como por ejemplo el 
    id de la api y id del dispositivo, ademas del body con los datos a correspondientes
    así como el id_client del cliente que se quiere actualizar.
    method: PUT

#### **updateAddress** _`updateAddress(auth_params:object, address:object, clientId:string)`_
    A través de esta función se permite la actualización de la dirección del usuario 
    registrado dentro del core bancario, para ello es necesario enviar por parametros un objeto 
    que contenga los datos necesarios para la autenticación dentro del core, como por ejemplo el 
    id de la api y id del dispositivo, ademas del body con los datos a correspondientes
    y el client_id del cliente que se quiere actualizar.
    method: PUT
    
#### **createSavingGoals** _`createSavingGoals(auth_params:object, clientId:string, description:string)`_
    Permite crear una saving goals (meta de ahorro) para un cliente especificado a través de su clientId, 
    requiere enviar por parametros un objeto que contenga los datos necesarios para la autenticación dentro del core, 
    como por ejemplo el apiId y deviceId, ademas del nombre con el que se registrara la cuenta.
    method: POST

#### **transactionDetails** _`transactionDetails(auth_params:object, clientId:string, transactionId:string)`_
    Permite ver en forma detallada una transacción a través del id de la mismam, especificando el clientId, 
    requiere enviar por parametros un objeto que contenga los datos necesarios para la autenticación dentro del core, 
    como por ejemplo el apiId y deviceId.
    method: GET

#### **findFinancialAccountForEmail** _`findFinancialAccountForEmail(auth_params:object, clientId:string, email:string)`_
    Permite descrubrir la cuenta principal de cualquier usuario, a través de su email, requiere enviar por parametros un objeto que 
    contenga los datos necesarios para la autenticación dentro del core, como por ejemplo el apiId y deviceId.
    method: GET

#### **renameSavingAccount** _`renameSavingAccount(auth_params:object, clientId:string, data:object)`_
    Permite renombrar una saving account existente, pasando por parametro el id del usuario ademas de la data 
    de la cuenta (accountId, description), requiere enviar por parametros un objeto que contenga los datos 
    necesarios para la autenticación dentro del core, como por ejemplo el apiId y deviceId.
    method: POST

#### **financialAccountDetails** _`financialAccountDetails(auth_params:object, clientId:string, description:string)`_
    Permite extraer la data de la cuenta principal a partir del id del cliente, requiere enviar por parametros un objeto 
    que contenga los datos necesarios para la autenticación dentro del core, como por ejemplo el apiId y deviceId.
    method: GET

#### **viewSavingAccount** _`viewSavingAccount(auth_params:object, clientId:string, flag:string)`_
    Permite ver las saving account de un usuario, activas o inactivas, por defecto devuelve solo las activas, pero enviando el
    flag="false" devolvera las saving accounts que ya fueron cerradas. requiere enviar por parametros un objeto 
    que contenga los datos necesarios para la autenticación dentro del core, como por ejemplo el apiId y deviceId.
    method: GET

#### **closeSavingAccount** _`closeSavingAccount(auth_params:object, clientId:string, accountId:string)`_
    Permite cerrar una saving account, indicando el id del cliente y el id de la cuenta especifica 
    requiere enviar por parametros un objeto que contenga los datos necesarios para la autenticación dentro del core, 
    como por ejemplo el apiId y deviceId.
    method: POST

#### **innerTransfer** _`innerTransfer(auth_params:object, clientId:string, data:object)`_
    Permite hacer transferencias entre cuentas de un mismo cliente, es necesario enviar el id de la cuenta origen (origin) 
    y la cuenta destino (destination), ademas del monto a transferir (amount) y un comentario (comment) o seagregará uno por defecto, 
    requiere enviar por parametros un objeto que contenga los datos necesarios para la autenticación dentro del core, 
    como por ejemplo el apiId y deviceId, ademas de la descripción para la .
    method: POST

#### **accountMovements** _`accountMovements(auth_params:object, clientId:string, accountId:string)`_
    Permite ver los movimientos un cuenta especificada a través de su id, requiere enviar por parametros 
    un objeto que contenga los datos necesarios para la autenticación dentro del core, como por ejemplo el apiId y deviceId.
    method: GET

#### **activitiesDetails** _`activitiesDetails(auth_params:object, clientId:string, data:object)`_
    Permite ver todos los movimientos de la cuenta principal del usuario, filtradas por un rango de fechas (beginDate, endDate),
    requiere enviar por parametros un objeto que contenga los datos necesarios para la autenticación dentro del core, 
    como por ejemplo el apiId y deviceId.
    method: GET

#### **findSavingAccount** _`findSavingAccount(auth_params:object, clientId:string, accountId:string)`_
    Permite realizar una busqueda de una saving account a través de su id, retornando el la información detallada,
    requiere enviar por parametros un objeto que contenga los datos necesarios para la autenticación dentro del core, 
    como por ejemplo el apiId y deviceId.
    method: GET
